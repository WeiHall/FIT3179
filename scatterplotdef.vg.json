{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 300, "height": 300,
    "data": {"url": "https://raw.githubusercontent.com/WeiHall/FIT3179/main/statsbyclub.csv"},
    
    "encoding": {
      "x": {"field": "winrate", 
      "type": "quantitative",
      "title": "Average Win-Rate"
      },
      "y": {"field": "g_conceded", 
      "type": "quantitative",
      "title": "Goals Conceded per Game"
      }
    },
    "layer": [
      {
        "params": [{
          "name": "team",
          "select": {"type": "point", "fields": ["Club"]},
          "bind": "legend"
        }],
        "mark": {
          "type": "circle",
          "size": 100
          },
        "encoding": {
          "color": {
            "field":"Club",
            "scale": {"scheme": "category20b"}
          },
          "opacity": {
            "condition": {"param": "team", "value": 1},
            "value": 0.2
            },
          "tooltip": [
            {"field": "Club", "type": "nominal"},
            {"field": "winrate", "type": "quantitative", "title": "Avg. Win-Rate", "format": ".3f"},
            {"field": "g_conceded", "type": "quantitative", "title": "Avg. Goals Conceded per Game", "format": ".3f"}
          ]
        }
      },
    {
      "mark": {
        "type": "text",
        "align": "right",
        "baseline": "middle",
        "dx": -12,
        "fontSize": 11.5,
        "fontStyle": "italic"
      },
      "encoding": {
        "text": {"field": "Club", "type": "nominal"},
        "color": {"value": "black"},
        "opacity": {
          "condition": {
            "test": "datum['Club'] == 'Liverpool' || datum['Club'] == 'Aston-Villa'",
            "value": 1
          },
          "value": 0
        }
      }
    }
  ]      
}

  